<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Unzipper Controls</title>
  <style>
    html {font-family: Arial; display: inline-block; text-align: center; background-color: #f2f2f2c9;} /* Light grey background */
    h2 {font-size: 1.8rem; color: #FFA500;} /* Orange color for header */
    p {font-size: 1.2rem; color: #808080;} /* Grey color for paragraph text */
    body {max-width: 400px; margin: 0 auto; padding-bottom: 25px; background-color: #FFFFFF;} /* White background */
    .slider { -webkit-appearance: none; margin: 14px; width: 360px; height: 25px; background: #FFA500; /* Orange color for slider background */
      outline: none; -webkit-transition: .2s; transition: opacity .2s; border-radius: 8px;}
    .slider::-webkit-slider-thumb {-webkit-appearance: none; appearance: none; width: 35px; height: 35px; background: #808080; /* Grey color for slider thumb */
      cursor: pointer; border-radius: 8px;}
    .slider::-moz-range-thumb { width: 35px; height: 35px; background: #808080; /* Grey color for slider thumb */
      cursor: pointer; border-radius: 8px;}
    .button {border: none; padding: 16px 40px; border-radius: 8px; cursor: pointer;}
    .stop_button {background-color: #FF0000; color: #000000;} /* Red button with black text */
    .direction_button {background-color: #FFD700; color: #000000;} /* Gold button with black text */
    .go_up_button {background-color: #0000FF; color: #FFFF00;} /* Blue button with yellow text */
    .odometer_settings_button {background-color: #C93877; color: #FFFFFF;} /* Custom color for odometer settings button */
    .zipStats {background-color: #5d7226; color: #FFFFFF;} /* Custom color for log button */
    .log_button {background-color: #C96F10; color: #FFFFFF;} /* Custom color for log button */
    .text-color {font-size: 1.2rem; color: #000000;} /* Black text color */
  </style>
  <script>
    function sliderSend(element){
        var sliderValue = element.value;
        var xhr = new XMLHttpRequest();
        if(element.id == "maxSpeedSlider"){xhr.open("GET", "/maxspeed?value="+sliderValue);}
        else if(element.id == "afterZipDelaySlider"){xhr.open("GET", "/afterzipdelay?value="+sliderValue);}
        xhr.send();
    }
    function buttonClickSend(element){
        var xhr = new XMLHttpRequest();
        if(element.id == "stop_button"){xhr.open("GET", "/stopclick");}
        else if(element.id == "direction_button"){xhr.open("GET", "/directionclick");}
        else if(element.id == "go_up_button"){xhr.open("GET", "/goupclick");}
        xhr.send();
        }
    // Define the text color based on the integer value
    var floatValue = parseFloat(%VOLTAGE%);
    // Define the background colors based on the integer value
    if (floatValue < 17) {
        textColor = 'red';
    } else if (floatValue < 19) {
        textColor = 'orange';
    } else {
        textColor = 'green';
    }
   
    // Create a new style element and add it to the head
    var style = document.createElement('style');
    style.type = 'text/css';
    style.innerHTML = '.text-color { background-color: ' + textColor + '; }';
    // style.innerHTML = '.state-color { background-color: ' + stateColor + '; }';
    document.head.appendChild(style);
  </script>
</head>
<body>
  <h2>Unzipper Controls</h2>
  <p>State: %STATE%   Direction: %DIRECTION%</p>
  <p class="text-color">Battery Voltage: %VOLTAGE%</p>
  <!-- <p>Temperature: %TEMPERATURE%</p> -->
  <p><button id="stop_button" class="button stop_button" onclick="buttonClickSend(this)">Stop Motor</button></p>
  <p><button id="direction_button" class="button direction_button" onclick="buttonClickSend(this)">Direction</button></p>
  <p><button id="go_up_button" class="button go_up_button" onclick="buttonClickSend(this)">Go Up</button></p>
  <p><span>Max Speed: %MAXSPEEDVALUE%</span></p>
  <p><input type="range" onchange="sliderSend(this)" id="maxSpeedSlider" min="0" max="100" value="%MAXSPEEDVALUE%" step="10" class="slider"></p>
  <p><span>After Zip Delay (in seconds): %AFTERZIPDELAY%</span></p>
  <p><input type="range" onchange="sliderSend(this)" id="afterZipDelaySlider" min="0.0" max="20.0" value="%AFTERZIPDELAY%" step="0.5" class="slider"></p>
  <p><button id="odometer_settings_button" class="button odometer_settings_button" onclick="location.href = '/odometersettingsclick';">Odometer Settings</button></p>
  <p><button id="test_page" class="button go_up_button" onclick="location.href = '/testclick';">Test Cases</button></p>
  <p><button id="log_button" class="button log_button" onclick="location.href = '/logclick';">Log Page</button></p>
  <p><button id="zipStats" class="button zipStats" onclick="location.href = '/zipStats';">Zipping Stats</button></p>
</body>
</html>
